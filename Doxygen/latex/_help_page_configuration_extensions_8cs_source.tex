\doxysection{Help\+Page\+Configuration\+Extensions.\+cs}
\label{_help_page_configuration_extensions_8cs_source}\index{SiroccoDemo.APIs/Areas/HelpPage/HelpPageConfigurationExtensions.cs@{SiroccoDemo.APIs/Areas/HelpPage/HelpPageConfigurationExtensions.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{keyword}{using\ }System;}
\DoxyCodeLine{00002\ \textcolor{keyword}{using\ }System.Collections.Generic;}
\DoxyCodeLine{00003\ \textcolor{keyword}{using\ }System.Collections.ObjectModel;}
\DoxyCodeLine{00004\ \textcolor{keyword}{using\ }System.ComponentModel;}
\DoxyCodeLine{00005\ \textcolor{keyword}{using\ }System.Diagnostics;}
\DoxyCodeLine{00006\ \textcolor{keyword}{using\ }System.Diagnostics.CodeAnalysis;}
\DoxyCodeLine{00007\ \textcolor{keyword}{using\ }System.Globalization;}
\DoxyCodeLine{00008\ \textcolor{keyword}{using\ }System.Linq;}
\DoxyCodeLine{00009\ \textcolor{keyword}{using\ }System.Net.Http;}
\DoxyCodeLine{00010\ \textcolor{keyword}{using\ }System.Net.Http.Headers;}
\DoxyCodeLine{00011\ \textcolor{keyword}{using\ }System.Web.Http;}
\DoxyCodeLine{00012\ \textcolor{keyword}{using\ }System.Web.Http.Controllers;}
\DoxyCodeLine{00013\ \textcolor{keyword}{using\ }System.Web.Http.Description;}
\DoxyCodeLine{00014\ \textcolor{keyword}{using\ }SiroccoDemo.APIs.Areas.HelpPage.ModelDescriptions;}
\DoxyCodeLine{00015\ \textcolor{keyword}{using\ }SiroccoDemo.APIs.Areas.HelpPage.Models;}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{namespace\ }SiroccoDemo.APIs.Areas.HelpPage}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{class\ }HelpPageConfigurationExtensions}
\DoxyCodeLine{00020\ \ \ \ \ \{}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ ApiModelPrefix\ =\ \textcolor{stringliteral}{"{}MS\_HelpPageApiModel\_"{}};}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetDocumentationProvider(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ IDocumentationProvider\ documentationProvider)}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ config.Services.Replace(typeof(IDocumentationProvider),\ documentationProvider);}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetSampleObjects(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ IDictionary<Type,\ object>\ sampleObjects)}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().SampleObjects\ =\ sampleObjects;}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetSampleRequest(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ \textcolor{keywordtype}{object}\ sample,\ MediaTypeHeaderValue\ mediaType,\ \textcolor{keywordtype}{string}\ controllerName,\ \textcolor{keywordtype}{string}\ actionName)}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().ActionSamples.Add(\textcolor{keyword}{new}\ HelpPageSampleKey(mediaType,\ SampleDirection.Request,\ controllerName,\ actionName,\ \textcolor{keyword}{new}[]\ \{\ \textcolor{stringliteral}{"{}*"{}}\ \}),\ sample);}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetSampleRequest(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ \textcolor{keywordtype}{object}\ sample,\ MediaTypeHeaderValue\ mediaType,\ \textcolor{keywordtype}{string}\ controllerName,\ \textcolor{keywordtype}{string}\ actionName,\ params\ \textcolor{keywordtype}{string}[]\ parameterNames)}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().ActionSamples.Add(\textcolor{keyword}{new}\ HelpPageSampleKey(mediaType,\ SampleDirection.Request,\ controllerName,\ actionName,\ parameterNames),\ sample);}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetSampleResponse(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ \textcolor{keywordtype}{object}\ sample,\ MediaTypeHeaderValue\ mediaType,\ \textcolor{keywordtype}{string}\ controllerName,\ \textcolor{keywordtype}{string}\ actionName)}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().ActionSamples.Add(\textcolor{keyword}{new}\ HelpPageSampleKey(mediaType,\ SampleDirection.Response,\ controllerName,\ actionName,\ \textcolor{keyword}{new}[]\ \{\ \textcolor{stringliteral}{"{}*"{}}\ \}),\ sample);}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetSampleResponse(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ \textcolor{keywordtype}{object}\ sample,\ MediaTypeHeaderValue\ mediaType,\ \textcolor{keywordtype}{string}\ controllerName,\ \textcolor{keywordtype}{string}\ actionName,\ params\ \textcolor{keywordtype}{string}[]\ parameterNames)}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().ActionSamples.Add(\textcolor{keyword}{new}\ HelpPageSampleKey(mediaType,\ SampleDirection.Response,\ controllerName,\ actionName,\ parameterNames),\ sample);}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetSampleForMediaType(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ \textcolor{keywordtype}{object}\ sample,\ MediaTypeHeaderValue\ mediaType)}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().ActionSamples.Add(\textcolor{keyword}{new}\ HelpPageSampleKey(mediaType),\ sample);}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetSampleForType(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ \textcolor{keywordtype}{object}\ sample,\ MediaTypeHeaderValue\ mediaType,\ Type\ type)}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().ActionSamples.Add(\textcolor{keyword}{new}\ HelpPageSampleKey(mediaType,\ type),\ sample);}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetActualRequestType(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ Type\ type,\ \textcolor{keywordtype}{string}\ controllerName,\ \textcolor{keywordtype}{string}\ actionName)}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().ActualHttpMessageTypes.Add(\textcolor{keyword}{new}\ HelpPageSampleKey(SampleDirection.Request,\ controllerName,\ actionName,\ \textcolor{keyword}{new}[]\ \{\ \textcolor{stringliteral}{"{}*"{}}\ \}),\ type);}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetActualRequestType(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ Type\ type,\ \textcolor{keywordtype}{string}\ controllerName,\ \textcolor{keywordtype}{string}\ actionName,\ params\ \textcolor{keywordtype}{string}[]\ parameterNames)}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().ActualHttpMessageTypes.Add(\textcolor{keyword}{new}\ HelpPageSampleKey(SampleDirection.Request,\ controllerName,\ actionName,\ parameterNames),\ type);}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetActualResponseType(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ Type\ type,\ \textcolor{keywordtype}{string}\ controllerName,\ \textcolor{keywordtype}{string}\ actionName)}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().ActualHttpMessageTypes.Add(\textcolor{keyword}{new}\ HelpPageSampleKey(SampleDirection.Response,\ controllerName,\ actionName,\ \textcolor{keyword}{new}[]\ \{\ \textcolor{stringliteral}{"{}*"{}}\ \}),\ type);}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetActualResponseType(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ Type\ type,\ \textcolor{keywordtype}{string}\ controllerName,\ \textcolor{keywordtype}{string}\ actionName,\ params\ \textcolor{keywordtype}{string}[]\ parameterNames)}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ config.GetHelpPageSampleGenerator().ActualHttpMessageTypes.Add(\textcolor{keyword}{new}\ HelpPageSampleKey(SampleDirection.Response,\ controllerName,\ actionName,\ parameterNames),\ type);}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ HelpPageSampleGenerator\ GetHelpPageSampleGenerator(\textcolor{keyword}{this}\ HttpConfiguration\ config)}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (HelpPageSampleGenerator)config.Properties.GetOrAdd(}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ typeof(HelpPageSampleGenerator),}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =>\ \textcolor{keyword}{new}\ HelpPageSampleGenerator());}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetHelpPageSampleGenerator(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ HelpPageSampleGenerator\ sampleGenerator)}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ config.Properties.AddOrUpdate(}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ typeof(HelpPageSampleGenerator),}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =>\ sampleGenerator,}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (k,\ o)\ =>\ sampleGenerator);}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ ModelDescriptionGenerator\ GetModelDescriptionGenerator(\textcolor{keyword}{this}\ HttpConfiguration\ config)}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (ModelDescriptionGenerator)config.Properties.GetOrAdd(}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ typeof(ModelDescriptionGenerator),}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =>\ InitializeModelDescriptionGenerator(config));}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ HelpPageApiModel\ GetHelpPageApiModel(\textcolor{keyword}{this}\ HttpConfiguration\ config,\ \textcolor{keywordtype}{string}\ apiDescriptionId)}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{object}\ model;}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ modelId\ =\ ApiModelPrefix\ +\ apiDescriptionId;}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!config.Properties.TryGetValue(modelId,\ out\ model))}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Collection<ApiDescription>\ apiDescriptions\ =\ config.Services.GetApiExplorer().ApiDescriptions;}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ApiDescription\ apiDescription\ =\ apiDescriptions.FirstOrDefault(api\ =>\ String.Equals(api.GetFriendlyId(),\ apiDescriptionId,\ StringComparison.OrdinalIgnoreCase));}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (apiDescription\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ model\ =\ GenerateApiModel(apiDescription,\ config);}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ config.Properties.TryAdd(modelId,\ model);}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (HelpPageApiModel)model;}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ HelpPageApiModel\ GenerateApiModel(ApiDescription\ apiDescription,\ HttpConfiguration\ config)}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ HelpPageApiModel\ apiModel\ =\ \textcolor{keyword}{new}\ HelpPageApiModel()}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ApiDescription\ =\ apiDescription,}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ ModelDescriptionGenerator\ modelGenerator\ =\ config.GetModelDescriptionGenerator();}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ HelpPageSampleGenerator\ sampleGenerator\ =\ config.GetHelpPageSampleGenerator();}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ GenerateUriParameters(apiModel,\ modelGenerator);}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ GenerateRequestModelDescription(apiModel,\ modelGenerator,\ sampleGenerator);}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ GenerateResourceDescription(apiModel,\ modelGenerator);}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ GenerateSamples(apiModel,\ sampleGenerator);}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ apiModel;}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ GenerateUriParameters(HelpPageApiModel\ apiModel,\ ModelDescriptionGenerator\ modelGenerator)}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ ApiDescription\ apiDescription\ =\ apiModel.ApiDescription;}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (ApiParameterDescription\ apiParameter\ \textcolor{keywordflow}{in}\ apiDescription.ParameterDescriptions)}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (apiParameter.Source\ ==\ ApiParameterSource.FromUri)}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ HttpParameterDescriptor\ parameterDescriptor\ =\ apiParameter.ParameterDescriptor;}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Type\ parameterType\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ModelDescription\ typeDescription\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ComplexTypeModelDescription\ complexTypeDescription\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (parameterDescriptor\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parameterType\ =\ parameterDescriptor.ParameterType;}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ typeDescription\ =\ modelGenerator.GetOrCreateModelDescription(parameterType);}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ complexTypeDescription\ =\ typeDescription\ as\ ComplexTypeModelDescription;}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Example:}}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ [TypeConverter(typeof(PointConverter))]}}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ public\ class\ Point}}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \{}}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ public\ Point(int\ x,\ int\ y)}}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \{}}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ X\ =\ x;}}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ Y\ =\ y;}}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \}}}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ public\ int\ X\ \{\ get;\ set;\ \}}}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ public\ int\ Y\ \{\ get;\ set;\ \}}}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Class\ Point\ is\ bindable\ with\ a\ TypeConverter,\ so\ Point\ will\ be\ added\ to\ UriParameters\ collection.}}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ }}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ public\ class\ Point}}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \{}}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ public\ int\ X\ \{\ get;\ set;\ \}}}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ public\ int\ Y\ \{\ get;\ set;\ \}}}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Regular\ complex\ class\ Point\ will\ have\ properties\ X\ and\ Y\ added\ to\ UriParameters\ collection.}}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (complexTypeDescription\ !=\ \textcolor{keyword}{null}}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ !IsBindableWithTypeConverter(parameterType))}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (ParameterDescription\ uriParameter\ \textcolor{keywordflow}{in}\ complexTypeDescription.Properties)}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ apiModel.UriParameters.Add(uriParameter);}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (parameterDescriptor\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ParameterDescription\ uriParameter\ =}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ AddParameterDescription(apiModel,\ apiParameter,\ typeDescription);}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!parameterDescriptor.IsOptional)}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uriParameter.Annotations.Add(\textcolor{keyword}{new}\ ParameterAnnotation()\ \{\ Documentation\ =\ \textcolor{stringliteral}{"{}Required"{}}\ \});}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{object}\ defaultValue\ =\ parameterDescriptor.DefaultValue;}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (defaultValue\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uriParameter.Annotations.Add(\textcolor{keyword}{new}\ ParameterAnnotation()\ \{\ Documentation\ =\ \textcolor{stringliteral}{"{}Default\ value\ is\ "{}}\ +\ Convert.ToString(defaultValue,\ CultureInfo.InvariantCulture)\ \});}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Debug.Assert(parameterDescriptor\ ==\ \textcolor{keyword}{null});}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ parameterDescriptor\ is\ null,\ this\ is\ an\ undeclared\ route\ parameter\ which\ only\ occurs}}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ when\ source\ is\ FromUri.\ Ignored\ in\ request\ model\ and\ among\ resource\ parameters\ but\ listed}}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ as\ a\ simple\ string\ here.}}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ModelDescription\ modelDescription\ =\ modelGenerator.GetOrCreateModelDescription(typeof(\textcolor{keywordtype}{string}));}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ AddParameterDescription(apiModel,\ apiParameter,\ modelDescription);}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ IsBindableWithTypeConverter(Type\ parameterType)}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (parameterType\ ==\ \textcolor{keyword}{null})}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ TypeDescriptor.GetConverter(parameterType).CanConvertFrom(typeof(\textcolor{keywordtype}{string}));}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ ParameterDescription\ AddParameterDescription(HelpPageApiModel\ apiModel,}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ ApiParameterDescription\ apiParameter,\ ModelDescription\ typeDescription)}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ ParameterDescription\ parameterDescription\ =\ \textcolor{keyword}{new}\ ParameterDescription}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Name\ =\ apiParameter.Name,}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Documentation\ =\ apiParameter.Documentation,}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ TypeDescription\ =\ typeDescription,}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ apiModel.UriParameters.Add(parameterDescription);}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ parameterDescription;}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ GenerateRequestModelDescription(HelpPageApiModel\ apiModel,\ ModelDescriptionGenerator\ modelGenerator,\ HelpPageSampleGenerator\ sampleGenerator)}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ ApiDescription\ apiDescription\ =\ apiModel.ApiDescription;}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (ApiParameterDescription\ apiParameter\ \textcolor{keywordflow}{in}\ apiDescription.ParameterDescriptions)}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (apiParameter.Source\ ==\ ApiParameterSource.FromBody)}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Type\ parameterType\ =\ apiParameter.ParameterDescriptor.ParameterType;}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ apiModel.RequestModelDescription\ =\ modelGenerator.GetOrCreateModelDescription(parameterType);}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ apiModel.RequestDocumentation\ =\ apiParameter.Documentation;}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (apiParameter.ParameterDescriptor\ !=\ \textcolor{keyword}{null}\ \&\&}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ apiParameter.ParameterDescriptor.ParameterType\ ==\ typeof(HttpRequestMessage))}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Type\ parameterType\ =\ sampleGenerator.ResolveHttpRequestMessageType(apiDescription);}
\DoxyCodeLine{00369\ }
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (parameterType\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ apiModel.RequestModelDescription\ =\ modelGenerator.GetOrCreateModelDescription(parameterType);}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00377\ }
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ GenerateResourceDescription(HelpPageApiModel\ apiModel,\ ModelDescriptionGenerator\ modelGenerator)}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ ResponseDescription\ response\ =\ apiModel.ApiDescription.ResponseDescription;}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ Type\ responseType\ =\ response.ResponseType\ ??\ response.DeclaredType;}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (responseType\ !=\ \textcolor{keyword}{null}\ \&\&\ responseType\ !=\ typeof(\textcolor{keywordtype}{void}))}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ apiModel.ResourceDescription\ =\ modelGenerator.GetOrCreateModelDescription(responseType);}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ [SuppressMessage(\textcolor{stringliteral}{"{}Microsoft.Design"{}},\ \textcolor{stringliteral}{"{}CA1031:DoNotCatchGeneralExceptionTypes"{}},\ Justification\ =\ \textcolor{stringliteral}{"{}The\ exception\ is\ recorded\ as\ ErrorMessages."{}})]}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ GenerateSamples(HelpPageApiModel\ apiModel,\ HelpPageSampleGenerator\ sampleGenerator)}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ item\ \textcolor{keywordflow}{in}\ sampleGenerator.GetSampleRequests(apiModel.ApiDescription))}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ apiModel.SampleRequests.Add(item.Key,\ item.Value);}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LogInvalidSampleAsError(apiModel,\ item.Value);}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ item\ \textcolor{keywordflow}{in}\ sampleGenerator.GetSampleResponses(apiModel.ApiDescription))}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ apiModel.SampleResponses.Add(item.Key,\ item.Value);}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LogInvalidSampleAsError(apiModel,\ item.Value);}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (Exception\ e)}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ apiModel.ErrorMessages.Add(String.Format(CultureInfo.CurrentCulture,}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}An\ exception\ has\ occurred\ while\ generating\ the\ sample.\ Exception\ message:\ \{0\}"{}},}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ HelpPageSampleGenerator.UnwrapException(e).Message));}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ TryGetResourceParameter(ApiDescription\ apiDescription,\ HttpConfiguration\ config,\ out\ ApiParameterDescription\ parameterDescription,\ out\ Type\ resourceType)}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ parameterDescription\ =\ apiDescription.ParameterDescriptions.FirstOrDefault(}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p\ =>\ p.Source\ ==\ ApiParameterSource.FromBody\ ||}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (p.ParameterDescriptor\ !=\ \textcolor{keyword}{null}\ \&\&\ p.ParameterDescriptor.ParameterType\ ==\ typeof(HttpRequestMessage)));}
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (parameterDescription\ ==\ \textcolor{keyword}{null})}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ resourceType\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ resourceType\ =\ parameterDescription.ParameterDescriptor.ParameterType;}
\DoxyCodeLine{00426\ }
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (resourceType\ ==\ typeof(HttpRequestMessage))}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ HelpPageSampleGenerator\ sampleGenerator\ =\ config.GetHelpPageSampleGenerator();}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ resourceType\ =\ sampleGenerator.ResolveHttpRequestMessageType(apiDescription);}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (resourceType\ ==\ \textcolor{keyword}{null})}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parameterDescription\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00441\ }
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ ModelDescriptionGenerator\ InitializeModelDescriptionGenerator(HttpConfiguration\ config)}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ ModelDescriptionGenerator\ modelGenerator\ =\ \textcolor{keyword}{new}\ ModelDescriptionGenerator(config);}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ Collection<ApiDescription>\ apis\ =\ config.Services.GetApiExplorer().ApiDescriptions;}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (ApiDescription\ api\ \textcolor{keywordflow}{in}\ apis)}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ApiParameterDescription\ parameterDescription;}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Type\ parameterType;}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (TryGetResourceParameter(api,\ config,\ out\ parameterDescription,\ out\ parameterType))}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ modelGenerator.GetOrCreateModelDescription(parameterType);}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ modelGenerator;}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ LogInvalidSampleAsError(HelpPageApiModel\ apiModel,\ \textcolor{keywordtype}{object}\ sample)}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \ \ \ \ InvalidSample\ invalidSample\ =\ sample\ as\ InvalidSample;}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (invalidSample\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ apiModel.ErrorMessages.Add(invalidSample.ErrorMessage);}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00466\ \ \ \ \ \}}
\DoxyCodeLine{00467\ \}}

\end{DoxyCode}
