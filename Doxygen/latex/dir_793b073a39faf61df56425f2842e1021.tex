\doxysection{packages/\+Moq.4.20.72 Directory Reference}
\label{dir_793b073a39faf61df56425f2842e1021}\index{packages/Moq.4.20.72 Directory Reference@{packages/Moq.4.20.72 Directory Reference}}


\doxysubsection{Detailed Description}
The most popular and friendly mocking library for .NET


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ mock\ =\ \textcolor{keyword}{new}\ Mock<ILoveThisLibrary>();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ WOW!\ No\ record/replay\ weirdness?!\ :)}}
\DoxyCodeLine{mock.Setup(library\ =>\ library.DownloadExists(\textcolor{stringliteral}{"{}2.0.0.0"{}}))}
\DoxyCodeLine{\ \ \ \ .Returns(\textcolor{keyword}{true});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Use\ the\ Object\ property\ on\ the\ mock\ to\ get\ a\ reference\ to\ the\ object}}
\DoxyCodeLine{\textcolor{comment}{//\ implementing\ ILoveThisLibrary,\ and\ then\ exercise\ it\ by\ calling}}
\DoxyCodeLine{\textcolor{comment}{//\ methods\ on\ it}}
\DoxyCodeLine{ILoveThisLibrary\ lovable\ =\ mock.Object;}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ download\ =\ lovable.DownloadExists(\textcolor{stringliteral}{"{}2.0.0.0"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Verify\ that\ the\ given\ method\ was\ indeed\ called\ with\ the\ expected\ value\ at\ most\ once}}
\DoxyCodeLine{mock.Verify(library\ =>\ library.DownloadExists(\textcolor{stringliteral}{"{}2.0.0.0"{}}),\ Times.AtMostOnce());}

\end{DoxyCode}


Moq also is the first and only library so far to provide Linq to Mocks, so that the same behavior above can be achieved much more succinctly\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{ILoveThisLibrary\ lovable\ =\ Mock.Of<ILoveThisLibrary>(l\ =>}
\DoxyCodeLine{\ \ l.DownloadExists(\textcolor{stringliteral}{"{}2.0.0.0"{}})\ ==\ \textcolor{keyword}{true});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Exercise\ the\ instance\ returned\ by\ Mock.Of\ by\ calling\ methods\ on\ it...}}
\DoxyCodeLine{\textcolor{keywordtype}{bool}\ download\ =\ lovable.DownloadExists(\textcolor{stringliteral}{"{}2.0.0.0"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Simply\ assert\ the\ returned\ state:}}
\DoxyCodeLine{Assert.True(download);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ If\ you\ want\ to\ go\ beyond\ state\ testing\ and\ want\ to\ }}
\DoxyCodeLine{\textcolor{comment}{//\ verify\ the\ mock\ interaction\ instead...}}
\DoxyCodeLine{Mock.Get(lovable).Verify(library\ =>\ library.DownloadExists(\textcolor{stringliteral}{"{}2.0.0.0"{}}));}

\end{DoxyCode}


You can think of Linq to Mocks as "{}from the universe of mocks, give me one whose behavior  matches this expression"{}.

Check out the {\texttt{Quickstart}} for more examples!\doxysubsection{Sponsors}\label{readme.md_autotoc_md42}
{\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}} {\texttt{}}

{\texttt{}} ~

{\texttt{Learn more about Git\+Hub Sponsors}} 